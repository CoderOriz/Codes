<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passwords</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h2>Saved Passwords for {{ user.username }}</h2>
        <ul>
            {% for password in passwords %}
            <li>
                <strong>Service:</strong> {{ password.service }}<br>
                <strong>Username:</strong> {{ password.service_username }}<br>
                <strong>Password:</strong> {{ password.service_password }}<br>
                <form action="/delete_password/{{ password.id }}" method="POST" style="display:inline;">
                    <input type="hidden" name="username" value="{{ user.username }}">
                    <button type="submit">Delete</button>
                </form>
                <form action="/toggle_hash/{{ password.id }}" method="POST" style="display:inline;">
                    <input type="hidden" name="username" value="{{ user.username }}">
                    <button type="submit">{{ 'Remove Hash' if password.hashed else 'Add Hash' }}</button>
                </form>
            </li>
            {% endfor %}
        </ul>
        <h3>Add New Password</h3>
        <form action="/add_password" method="POST">
            <input type="hidden" name="username" value="{{ user.username }}">
            <label for="service">Service</label>
            <input type="text" id="service" name="service" required>
            <label for="service_username">Service Username</label>
            <input type="text" id="service_username" name="service_username" required>
            <label for="service_password">Service Password</label>
            <input type="password" id="service_password" name="service_password" required>
            <label for="hash_password">Hash Password</label>
            <input type="checkbox" id="hash_password" name="hash_password">
            <button type="submit">Add Password</button>
        </form>
    </div>
</body>
</html>